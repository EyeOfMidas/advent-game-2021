<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<style type="text/css">
			html, body{
				margin: 0;
				padding: 0;
				display: grid;
				grid-template-columns: 1fr;
  				grid-template-rows: 100vh;
				align-items: center;
  				justify-items: center;
				background-color: black;
			}
			canvas {
				display: block;
				width: 128px;
				height: 128px;
				margin-left: auto;
				margin-right: auto;
				border: none;
				background-color: white;
			}
		</style>
	</head>
	<body>
<div id="day-3"></div>
<script src="./settween.js"></script>
<script src="./adventcanvas.js"></script>
<script>
	var coin = {x: 64, y: 64}
	var coinTarget = {x: 64, y: 64}
	var movingId = 0

	var {canvas, context} = adventCanvas("day-3", draw, {click: onClick})

	function draw(ctx) {
		update()
		ctx.fillStyle = "gold"
		ctx.beginPath()
		ctx.arc(coin.x, coin.y, 8, 0, 2 * Math.PI)
		ctx.fill()
	}

	function update() {			
	}

	function powerEasing(a, b, x) {
		return (b+a-2)* Math.pow(x,3) + (-2*a-b+3)* Math.pow(x,2) + a*x
	}

	function onClick(event) {
		clearTween(movingId)
		coinTarget.x = event.offsetX
		coinTarget.y = event.offsetY
		movingId = setTween(coin, coinTarget, 600, (x) => {
			return powerEasing(4, 0, x)
		})
	}
</script>
</body>
</html>